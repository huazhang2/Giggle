--------------- IN VIM
----- del trailing whitespace
:%s/\s\+$//gc

----- del ^M from Windows
%s/\r//gc

---- USE SED
-E, -r, --regexp-extended (did not need \ for special symbol)
use extended regular expressions in the script (for portability use POSIX -E).

sample:
$ sed --regexp-extended --in-place 's/\s+$//g' server.h
sed --regexp-extended --in-place 's/\s+$//g'
